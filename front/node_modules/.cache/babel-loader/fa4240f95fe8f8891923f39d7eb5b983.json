{"ast":null,"code":"var _jsxFileName = \"/home/luduslab/Documentos/PLEWD/front/src/Screens/Login/LoginScreen.js\";\nimport React, { Component } from 'react';\nimport './LoginScreen.css';\nimport uea from '../../Assets/plewd.png'; //App Components\n//external components\n\nimport Global from '../../Components/global';\nimport { Link } from 'react-router-dom';\n\nclass LoginScreen extends Component {\n  constructor() {\n    super();\n    this.state = {\n      email: '',\n      password: ''\n    };\n  }\n\n  handleChange(evt) {\n    if (evt.target.id === 'cpf') {\n      this.setState({\n        email: evt.target.value\n      });\n    } else {\n      this.setState({\n        password: evt.target.value\n      });\n    }\n  }\n\n  handleSubmit(evt) {\n    if (!this.state.email || !this.state.password) {\n      alert('Login required!');\n    } else {\n      console.log();\n      fetch(Global.API_URL + '/login', {\n        headers: new Headers({\n          'Authorization': 'Basic ' + btoa(this.state.email + ':' + this.state.password)\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(data => {\n        console.log(this.state.password);\n        console.log(data);\n\n        if (data.canLogin) {\n          sessionStorage.setItem('jwtToken', data.token);\n          this.props.history.push('/produtos');\n          console.log(\"LOGOU\");\n        } else {\n          alert('Verifique as informações e tente novamente');\n        }\n      }).catch(e => {\n        console.log(e);\n        alert('Houve um erro ao realizar o login, tente novamente mais tarde');\n      });\n    }\n\n    evt.preventDefault();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"loginContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"formLoginContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"logoContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"logo\",\n      src: uea,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cpfContainer inputContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"input-login\",\n      id: \"cpf\",\n      placeholder: \"Email\",\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"passwordContainer inputContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"input-login\",\n      type: \"password\",\n      id: \"password\",\n      placeholder: \"Senha\",\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"btnContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.handleSubmit.bind(this),\n      className: \"btnLogin\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Entrar\"), React.createElement(Link, {\n      variant: \"body2\",\n      onClick: () => {\n        window.open('http://localhost:3000/cadastro', '_self');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Cadastre-se\")), React.createElement(\"div\", {\n      className: \"btnContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/cadastro\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nexport default LoginScreen;","map":{"version":3,"sources":["/home/luduslab/Documentos/PLEWD/front/src/Screens/Login/LoginScreen.js"],"names":["React","Component","uea","Global","Link","LoginScreen","constructor","state","email","password","handleChange","evt","target","id","setState","value","handleSubmit","alert","console","log","fetch","API_URL","headers","Headers","btoa","then","response","json","data","canLogin","sessionStorage","setItem","token","props","history","push","catch","e","preventDefault","render","bind","window","open"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport './LoginScreen.css';\nimport uea from '../../Assets/plewd.png';\n\n//App Components\n\n//external components\nimport Global from '../../Components/global'\nimport { Link } from 'react-router-dom';\n\n\nclass LoginScreen extends Component{\n    constructor(){\n        super();\n        this.state = {\n            email: '',\n            password : ''\n        }\n      }\n      \n      handleChange(evt) {\n        if(evt.target.id === 'cpf'){\n            this.setState({\n                email : evt.target.value\n            });\n        }else{\n            this.setState({\n                password : evt.target.value\n            });\n        }\n      }\n    \n      handleSubmit(evt) {\n        if(!this.state.email || !this.state.password){\n            alert('Login required!')\n        } else {\n            console.log()\n            fetch(Global.API_URL + '/login', {\n                headers : new Headers({\n                    'Authorization': 'Basic '+btoa(this.state.email+':'+(this.state.password)),\n                })\n            })\n            .then(function(response){\n              return response.json();\n            })\n            .then(data => {\n                console.log((this.state.password));\n                console.log(data)\n                if(data.canLogin){\n                        sessionStorage.setItem('jwtToken', data.token);\n                        this.props.history.push('/produtos')\n                        console.log(\"LOGOU\")\n                    } else{\n                        alert('Verifique as informações e tente novamente');\n                    }\n                })  \n            .catch((e) => {\n                    console.log(e);\n                    alert('Houve um erro ao realizar o login, tente novamente mais tarde');\n            });\n        }     \n        evt.preventDefault();\n      }\n  render(){\n    return(\n      <div>\n        <header>\n         \n        </header>\n        <div className='loginContainer'>\n                    <div className=\"formLoginContainer\">\n                        {/* <form onSubmit={this.handleSubmit.bind(this)} className=\"formLogin\"> */}\n                        <div className=\"logoContainer\">\n                            <img className = \"logo\" src={uea}/>\n                        </div>\n                        <form>\n                            <div className=\"cpfContainer inputContainer\">\n                                {/* <input className=\"input\" id=\"cpf\" placeholder=\"CPF\" onChange={this.handleChange.bind(this)}/> */}\n                                <input className=\"input-login\" id=\"cpf\" placeholder=\"Email\" onChange={this.handleChange.bind(this)}/>\n                                <span className=\"\"></span>\n                            </div>\n                        \n                            <div className=\"passwordContainer inputContainer\">\n                                {/* <input className=\"input\" type=\"password\" id=\"password\" placeholder=\"Senha\" onChange={this.handleChange.bind(this)}/> */}\n                                <input className=\"input-login\" type=\"password\" id=\"password\" placeholder=\"Senha\" onChange={this.handleChange.bind(this)}/>\n                                <span className=\"\"></span>\n                            </div>\n                        \n                            <div className=\"btnContainer\">\n                                <button onClick={this.handleSubmit.bind(this)}  className=\"btnLogin\" type=\"submit\">\n                                    Entrar\n                                </button>\n                                <Link  variant=\"body2\" onClick = {() => { window.open('http://localhost:3000/cadastro', '_self'); }}>\n                                    Cadastre-se\n                                </Link>\n                            </div >\n                                \n                            <div className=\"btnContainer\">\n                                <Link to=\"/cadastro\" >\n                                </Link>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n          </div>    \n    );\n  }\n  \n}\n\nexport default LoginScreen;"]},"metadata":{},"sourceType":"module"}